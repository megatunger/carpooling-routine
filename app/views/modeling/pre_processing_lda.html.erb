<h2>Pre-Processing LDA</h2>
<div class="table-responsive">

  <%= simple_form_for :search, url: modeling_pre_processing_lda_path, method: "GET" do |f| %>
    <div class="row">
      <div class="col-md-6">
        <%= f.input :start_time, label: 'Start Week', as: :string, input_html: {type: :date, value: @start_time} %>
      </div>
      <div class="col-md-6">
        <%= f.input :end_time, label: 'End Week', as: :string, input_html: {type: :date, value: @end_time}  %>
      </div>
    </div>
    <%= f.submit "Search", class: "btn btn-primary" %>
  <% end %>
  <table class="table table-striped table-sm">
    <thead>
    <tr>
      <th>Date</th>
      <th>User ID - Name</th>
      <th>Address Name</th>
      <th>Address ID</th>
      <th>Time Range</th>
      <th>Hashing LDA</th>
    </tr>
    </thead>
    <tbody>
      <% @entries.each do |entry| %>
        <tr>
          <td><%= entry[0] %> / <b><%= Date.parse(entry[0]).strftime('%A') %></b></td>
          <td>
            <% entry[1].each do |location| %>
              <div><%= "#{location.user.id}" %></div>
            <% end %>
          </td>
          <td>
            <% entry[1].each do |location| %>
              <div><%= location.location_name %></div>
            <% end %>
          </td>
          <td>
            <% entry[1].each do |location| %>
              <div><%= location.place_id %></div>
            <% end %>
          </td>
          <td>
            <% entry[1].each do |location| %>
              <div><%= @time_ranges[location.start_time.strftime('%H').to_i % 3] %></div>
            <% end %>
          </td>
          <td>
            <% entry[1].each do |location| %>
              <div><%= location.hashing_lda %></div>
            <% end %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>